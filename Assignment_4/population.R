# 创建数据框
population_data <- data.frame(
  date = c("Mar-93", "Jun-93", "Sep-93", "Dec-93", "Mar-94", "Jun-94", "Sep-94", "Dec-94",
           "Mar-95", "Jun-95", "Sep-95", "Dec-95", "Mar-96", "Jun-96", "Sep-96", "Dec-96",
           "Mar-97", "Jun-97", "Sep-97", "Dec-97", "Mar-98", "Jun-98", "Sep-98", "Dec-98",
           "Mar-99", "Jun-99", "Sep-99", "Dec-99", "Mar-00", "Jun-00", "Sep-00", "Dec-00",
           "Mar-01", "Jun-01", "Sep-01", "Dec-01", "Mar-02", "Jun-02", "Sep-02", "Dec-02",
           "Mar-03", "Jun-03", "Sep-03", "Dec-03", "Mar-04", "Jun-04", "Sep-04", "Dec-04",
           "Mar-05", "Jun-05", "Sep-05", "Dec-05", "Mar-06", "Jun-06", "Sep-06", "Dec-06",
           "Mar-07", "Jun-07", "Sep-07", "Dec-07", "Mar-08", "Jun-08", "Sep-08", "Dec-08",
           "Mar-09", "Jun-09", "Sep-09", "Dec-09", "Mar-10", "Jun-10", "Sep-10", "Dec-10",
           "Mar-11", "Jun-11", "Sep-11", "Dec-11", "Mar-12", "Jun-12", "Sep-12", "Dec-12",
           "Mar-13", "Jun-13", "Sep-13", "Dec-13", "Mar-14", "Jun-14", "Sep-14", "Dec-14",
           "Mar-15", "Jun-15", "Sep-15", "Dec-15", "Mar-16", "Jun-16", "Sep-16", "Dec-16",
           "Mar-17", "Jun-17", "Sep-17", "Dec-17", "Mar-18", "Jun-18", "Sep-18", "Dec-18",
           "Mar-19", "Jun-19", "Sep-19", "Dec-19", "Mar-20", "Jun-20", "Sep-20", "Dec-20",
           "Mar-21", "Jun-21", "Sep-21", "Dec-21", "Mar-22", "Jun-22", "Sep-22", "Dec-22",
           "Mar-23", "Jun-23", "Sep-23", "Dec-23", "Mar-24"),
  population = c(3564400, 3572200, 3582900, 3597800, 3611500, 3620000, 3631800, 3648300,
                 3663700, 3673400, 3688600, 3706700, 3723400, 3732000, 3745600, 3762300,
                 3775200, 3781300, 3791300, 3802700, 3811200, 3815000, 3821000, 3829200,
                 3833000, 3835100, 3841100, 3851100, 3855900, 3857700, 3864900, 3873100,
                 3876200, 3880500, 3895400, 3916200, 3935700, 3948500, 3967600, 3989500,
                 4013300, 4027200, 4044600, 4061600, 4078700, 4087500, 4100600, 4114300,
                 4126600, 4133900, 4145900, 4161000, 4176100, 4184600, 4195500, 4209100,
                 4219400, 4223800, 4234300, 4245700, 4255600, 4259800, 4269600, 4280300,
                 4293500, 4302600, 4317300, 4332100, 4345700, 4350700, 4362700, 4373900,
                 4382500, 4384000, 4392000, 4399400, 4406500, 4408100, 4415600, 4425900,
                 4436000, 4442100, 4457900, 4477400, 4501100, 4516500, 4540300, 4564400,
                 4591900, 4609400, 4636300, 4663700, 4695000, 4714100, 4741200, 4767600,
                 4796700, 4813600, 4836300, 4859500, 4886100, 4900600, 4921300, 4941200,
                 4965300, 4979200, 5006900, 5040400, 5082800, 5090200, 5098700, 5103700,
                 5107900, 5111300, 5115000, 5116500, 5114900, 5117100, 5131200, 5160600,
                 5208300, 5245000, 5285400, 5314300, 5338900)
)

# 提取年份
population_data$year <- as.numeric(substr(population_data$date, 5, 6)) + 1900
population_data$year[population_data$year < 2000] <- population_data$year[population_data$year < 2000] + 100

# 计算每年的中位数
annual_median <- aggregate(population ~ year, data = population_data, FUN = median)

# 保存为CSV文件
write.csv(annual_median, file = "annual_population_median.csv", row.names = FALSE)






